<!doctype html>
<html lang="en">
    <head>
        <title>Medium.js</title>
        <meta charset='utf-8'> 
        
        <link rel="stylesheet" type="text/css" href="../medium.css">
        <link rel="stylesheet" type="text/css" href="docs.css">
        <link rel="stylesheet" type="text/css" href="prism.css">
        
        <meta property="og:title" content="Medium.js"/>
        <meta property="og:type" content="website"/>
        <meta property="og:url" content="http://jakiestfu.github.io/Medium.js/"/>
        <meta property="og:site_name" content="Medium.js"/>
        <meta property="og:description" content="Medium.js is a tiny JavaScript library for making HTML5's contenteditable beautiful." />

        <meta name="description" content="Medium.js is a tiny JavaScript library for making HTML5's contenteditable beautiful." />
        
        <meta http-equiv="Pragma" content="no-cache">
        <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
        
    </head>

    <body>
        <a class="fork" href="http://github.com/jakiestfu/Medium.js/"><img src="http://i.imgur.com/saRwNCY.jpg"></a>
        
        <div class="wrap">
            <a class="brand" href="http://jakiestfu.github.io/Medium.js/">Medium.js</a>
            <h1 class="catch">Taking control of content editable</h1>
            
            <div class="share">
				<iframe src="http://ghbtns.com/github-btn.html?user=jakiestfu&repo=Medium.js&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="120" height="20"></iframe>
				<iframe src="http://ghbtns.com/github-btn.html?user=jakiestfu&repo=Medium.js&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="120" height="20"></iframe>
								
				<a href="https://twitter.com/share" class="twitter-share-button" data-via="jakiestfu" data-text="Medium.js is a tiny JavaScript library for making HTML5's contenteditable beautiful.">Tweet</a>
				<a href="https://twitter.com/jakiestfu" class="twitter-follow-button" data-show-count="false">Follow @jakiestfu</a>
				
				<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
			</div>

            <hr />
            
            <p>This is Medium.js. It keeps HTML code within <code>contenteditable</code> semantic, simple, and clean. It also allows for placeholders, automatic HR creation, events, hotkeys, simple & complex element injection, and more!</p>
            <p>This script is inspired by <a href="http://medium.com" target="_blank">Medium's</a> beautiful content editor, something I have aspired to emulate since it's inception.</p>
            <p>Medium.js has been tested in Firefox 17+ (No Placeholders), Safari 5+, IE 10+, and Opera 11+ (No placeholders and no hotkeys).  Browser support is constantly improving!</p>
            <p>This code is brought to you by <a href="http://jakiestfu.com/" target="_blank">jakiestfu</a>, author of <a href="http://github.com/jakiestfu/Snap.js/" target="_blank">Snap.js</a> and <a href="http://jakiestfu.github.io/Behave.js/" target="_blank">Behave.js</a>. Please share!</p>

            <hr />
            
            <h3>Features</h3>
            <ul>
                <li>Library Independent</li>
                <li>Modern browser compliant!</li>
                <li>Can be used easily with your own WYSIWYG editor or Toolbar</li>
                <li>Keeps HTML organized and semantic (even on paste events)</li>
                <li>Rich text editing with hotkeys <code>(cmd/ctrl+[b,u,i])</code></li>
                <li>Placeholders</li>
                <li>Inline editors, partial editors, and rich editors</li>
                <li>Automatics HR tag insertion on two empty paragraphs in succession</li>
                <li>Great for writing titles, comments, or entire articles.</li>
                <li>Much more expressive and customizable than <code>input</code> or <code>textarea</code></li>
            </ul>
            
            <hr />
            
            <h3>Usage</h3>
            <pre data-src="usage.html"></pre>
            <p>Simply include the Medium.js library and CSS, and you are ready to rock. <b>No dependencies</b></p>
            
            <hr />
            
            <h3>Semantic</h3>
            <pre data-src="semantic.html"></pre>
            <p>The code within Medium.js editors are very semantic and organized, giving you peace of mind with using <code>contenteditable</code>.</p>
            
            <hr />
            
            <h3>Options</h3>
            <pre data-src="options.js"></pre>
            <p>All options (excluding <code>modifiers</code>, <code>tags</code>, and <code>cssClasses</code>) may be overridden with <code>data-medium-*</code> attributes on the element.</p>
            
            <ul class="def">
                <li>
                    <div> <code class="ref">debug</code>: Log properties to the console </div>
                </li>
                <li>
                    <div> <code class="ref">element</code>: The element in which you want to apply the Medium.js' editor to.</div>
                </li>
                <li>
                    <div> <code class="ref">modifier</code>: The modifier you want for making things bold/italic etc. May be set to <code>'auto'</code>, <code>'cmd'</code>, or <code>'ctrl'</code>. </div>
                </li>
                <li>
                    <div> <code class="ref">placeholder</code>: An optional string that displays when the editor is empty </div>
                </li>
                <li>
                    <div> <code class="ref">autofocus</code>: Set the focus to the specified element automatically </div>
                </li>
                <li>
                    <div> <code class="ref">autoHR</code>: An HR tag will automatically be inserted if there are two empty paragraphs in succession </div>
                </li>
                <li>
                    <div> <code class="ref">mode</code>: Dictate the mode in which you want to allow editing. Currently there are three: <code>"inline"</code> allows for no rich text editing, and no newlines. Similar to an <code>input</code> element. <code>"partial"</code> is like a <code>textarea</code>, but allows support for paragraphs. <code>"rich"</code> allows styling of the text, paragraphs, and hr tags. </div>
                </li>
                <li>
                    <div> <code class="ref">maxLength</code>: The max size you want to allow for the editor </div>
                </li>
                <li>
                    <div> <code class="ref">modifiers</code>: Key modifiers from <code>e.which</code> that will be used to apply the respective styling changes or hook into events. </div>
                </li>
                <li>
                    <div> <code class="ref">tags</code>: Dictates the base tags allowed. <code>tags.paragraph</code> is the element that will be created for paragraphs. <code>tags.outerLevel</code> are the only elements allowed to replace a top-level <code>p</code> tag. <code>tags.innerLevel</code> are the only tags allowed within the parent tags. No additional tags are allowed unless included here.</div>
                </li>
                <li>
                    <div> <code class="ref">cssClasses</code>: Various classes used within Medium.js, customizable to your liking. </div>
                </li>
            </ul>

            <hr />

            <h3>Behavior</h3>
            <p>There are two behaviors available, wild and domesticated.</p>
            <ul class="def">
                <li>
                    <div> <code class="ref">wild</code>: (default) uses web browser's <code>document.execCommand()</code> method to insert and invoke elements, which has limitations when using complex html in more tailored scenarios.</div>
                </li>
                <li>
                    <div> <code class="ref">domesticated</code>: when <code>undo.js</code> & <code>rangy</code> are included before Medium.js, domesticated behavior is triggered.  Domesticated behavior makes contenteditable behave when dealing with inserting and invoking more complex html.  By using undo.js, complex elements can be injected without difficulty and be undoable.  By using rangy, we are able to control contenteditable's ability to invoke elements.</div>
                </li>
            </ul>


            <h3>Methods</h3>
            <p>Make contenteditable do things</p>

            <ul class="def">
                <li>
                    <div> <code class="ref">destroy</code>: Destroy an instantiated Medium.js </div>
                </li>
                <li>
                    <div> <code class="ref">invokeElement</code>: invokes an element to be applied over selected content.  Accepts 2 parameters <code> {String} tagName, {Object} [attributes] </code> </div>
                </li>
                <li>
                    <div> <code class="ref">insertHtml</code>: inserts html into the editor at the cursor. Accepts 1 parameter <code>{String|HtmlElement} html</code>, <code>HtmlElement is domesticated mode only</code> </div>
                </li>
                <li>
                    <div> <code class="ref">makeUndoable</code>: (domesticated mode only) makes the current state of the editor undoable/redoable. </div>
                </li>
                <li>
                    <div> <code class="ref">redo</code>: (domesticated mode only) redo an edit. </div>
                </li>
                <li>
                    <div> <code class="ref">undo</code>: (domesticated mode only) undo an edit. </div>
                </li>
            </ul>

            <h3>Methods</h3>
            <p>Methods provide functionality that can be used with buttons, toolbars, WYSIWYG editors, and the environment it is being used with.</p>

            <ul class="def">
                <li>
                    <div> <code class="ref">behavior()</code>: The type of behavior currently being used with Medium.js.</div>
                    <div class="important">returns <code>'wild'</code> or <code>'domesticated'</code></div>
                </li>
                <li>
                    <div> <code class="ref">destroy()</code>: Destroy the instantiated medium.js </div>
                </li>
                <li>
                    <div> <code class="ref">invokeElement({String}tagName, {Object} [attributes])</code>: invokes an element.</div>
                    <div class="important">(attributes are domesticated mode only)</div>
                </li>
                <li>
                    <div> <code class="ref">insertHtml({String|HtmlElement} html)</code>: inserts html into the editor at the cursor.</div>
                    <div class="important">(HtmlElement allowed in domesticated mode only)</div>
                </li>
                <li>
                    <div> <code class="ref">makeUndoable()</code>: makes the current state of the editor undoable/redoable. </div>
                    <div class="important">(domesticated mode only)</div>
                </li>
                <li>
                    <div> <code class="ref">redo()</code>: redo an edit. </div>
                    <div class="important">(domesticated mode only)</div>
                </li>
                <li>
                    <div> <code class="ref">undo()</code>: undo an edit. </div>
                    <div class="important">(domesticated mode only)</div>
                </li>
            </ul>
            
            <div class="faq">
                <h3>Common Questions</h3>
            
                <h4>What is the purpose of Medium.js?</h4>
                <p>Medium.js overrides many default keyboard events and substitutes a more cross-browser compliant way to interact with <code>contenteditable</code> elements. This means that you can use <code>contenteditable</code> without fearing your user is going to enter poor or invalid HTML. It keeps things tight, organized, and semantic.</p>

                <h4>Why are there different behaviours available?</h4>
                <p>Medium.js was written to be used in many environments, of which, toolbars and WYSIWYG (what you see is what you get editors) editors are used commonly.  Plus, when domesticated, you can teach contenteditable all kinds of new tricks ;).</p>

                <h4>Does this give me the cool highlighting toolbar like Medium's editor</h4>
                <p><b>No</b>, it does not. If you're looking for a script that adds support for Medium's toolbar, take a look at <a href="http://zenpen.io/" target="_blank">ZenPen.io</a></p>
                
                <h4>There are weird style issues when inserting empty tags. What gives?</h4>
                <p>Empty tags do not have what is called <code>layout</code>, a sort of property of an element. You need to set a <code>min-height</code> on the paragraph element you specify. </p>
                
                <h4>Medium.js does not work in all browsers!</h4>
                <p>Please fork Medium.js and contribute, wide support is so close!</p>
            </div>

            <hr />
            
            <h3>Demos</h3>
            <div>
                <h4>Inline</h4>
                <pre data-src="inline.js"></pre>
                <div id="title" class="title demo"></div>
            </div>

            <div>
                <h4>Partial</h4>
                <pre data-src="partial.js"></pre>
                <div id="comment" class="comment demo"></div>
            </div>

            <div>
                <h4>Rich</h4>
                <pre data-src="rich.js"></pre>
                <div id="article" class="article demo"></div>
            </div>

            <div>
                <h4>Rich with Insert Html</h4>
                <pre data-src="rich2.js"></pre>
                <input id="article2Button" type="button" value="Insert"/>
                <div id="article2" class="article demo"></div>
            </div>

            <div class="domesticated">
                <h4>Rich with Insert Html Object (domesticated only)</h4>
                <pre data-src="rich3.js"></pre>
                <input id="article3Button" type="button" value="Insert"/>
                <div id="article3" class="article demo"></div>
            </div>

            <h4>Licensing</h4>
            <div class="license">
               <p><b>MIT Licensing</b></p>
               <p>Copyright (c) 2013 Jacob Kelley</p>
               <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
               <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
               <p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
            </div>
        </div>
        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="../undo.js"></script>
        <script src="../rangy/uncompressed/rangy-core.js"></script>
        <script src="../rangy/uncompressed/rangy-cssclassapplier.js"></script>
        <script src="../medium.js"></script>
        <script src="prism.js"></script>
        <script src="partials/inline.js"></script>
        <script src="partials/partial.js"></script>
        <script src="partials/rich.js"></script>
        <script src="partials/rich2.js"></script>
        <script src="partials/rich3.js"></script>
        <script src="docs.js"></script>
    </body>
</html>
